<div class="container mt-5">
  <div data-controller="search-books">
    <div class="d-flex justify-content-center mb-4">
      <h1>List of Books</h1>
    </div>
    <div class="d-flex justify-content-center">
      <div class="col-6">
        <%= form_with url: books_path, method: :get, html: {class:"flex-grow-1 mb-4", data: {search_books_target: "form"}} do |f| %>
          <%= f.text_field  :query,
                            class: "form-control rounded-pill",
                            placeholder: "Search by Title or Author",
                            value: params[:query],
                            autocomplete: :off,
                            data: {search_books_target: "input",
                            action: "keyup->search-books#update"}
          %>
        <% end %>
      </div>
    </div>
    <div class="container mt-5">
      <div class="row">
        <div class="col-8 mx-auto">
          <div data-search-books-target="list">
            <%= render partial: 'books/list', locals: { books: @books } %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
